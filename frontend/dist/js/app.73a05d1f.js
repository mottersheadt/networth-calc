(function(t){function e(e){for(var a,c,s=e[0],u=e[1],i=e[2],b=0,d=[];b<s.length;b++)c=s[b],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},o=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/neworth-calc/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var i=0;i<s.length;i++)e(s[i]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"2c27":function(t,e,n){},"34c0":function(t,e,n){"use strict";n("2c27")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={class:"container"};function o(t,e,n,o,c,s){var u=Object(a["o"])("Navbar"),i=Object(a["o"])("Home"),l=Object(a["o"])("Submit");return Object(a["k"])(),Object(a["e"])("div",null,[Object(a["h"])(u),Object(a["f"])("div",r,["/"!=c.route&&c.route?Object(a["d"])("",!0):(Object(a["k"])(),Object(a["c"])(i,{key:0,msg:"Welcome to Your Vue.js App"})),"/submit"==c.route?(Object(a["k"])(),Object(a["c"])(l,{key:1,msg:"Welcome to Your Vue.js App"})):Object(a["d"])("",!0)])])}var c=function(t){return Object(a["m"])("data-v-ca270d3e"),t=t(),Object(a["l"])(),t},s={class:"mt-5"},u=c((function(){return Object(a["f"])("h1",null,"Networth",-1)})),i={class:"row"},l={class:"col"},b=c((function(){return Object(a["f"])("label",null,"Start Date",-1)})),d={class:"col"},f=c((function(){return Object(a["f"])("label",null,"End Date",-1)})),p={class:"row mt-3"},m={class:"col"},j={class:"row mt-3"},O={class:"col"},h={class:"row mt-3"},v={class:"col"},y={class:"row mt-3"},g={class:"history"},D={class:"history-hover"},w=c((function(){return Object(a["f"])("br",null,null,-1)}));function T(t,e,n,r,o,c){return Object(a["k"])(),Object(a["e"])("div",s,[u,Object(a["f"])("div",i,[Object(a["f"])("div",l,[b,Object(a["r"])(Object(a["f"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return o.startDate=t}),type:"date",class:"form-control",placeholder:"Start Date","aria-label":"Start Date"},null,512),[[a["q"],o.startDate]])]),Object(a["f"])("div",d,[f,Object(a["r"])(Object(a["f"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.endDate=t}),type:"date",class:"form-control",placeholder:"End Date","aria-label":"End Date"},null,512),[[a["q"],o.endDate]])])]),Object(a["f"])("div",p,[Object(a["f"])("div",m,[Object(a["f"])("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=function(){return c.update&&c.update.apply(c,arguments)})},"Update")])]),Object(a["f"])("div",j,[Object(a["f"])("div",O," Max Amount: "+Object(a["p"])(o.netWorth.max),1)]),Object(a["f"])("div",h,[Object(a["f"])("div",v," End Amount: "+Object(a["p"])(o.netWorth.total),1)]),Object(a["f"])("div",y,[Object(a["f"])("div",g,[(Object(a["k"])(!0),Object(a["e"])(a["a"],null,Object(a["n"])(o.netWorth.history,(function(e){return Object(a["k"])(),Object(a["e"])("div",{key:e.id,class:"history-item",style:Object(a["j"])({width:99.5/t.transactionCount+"%"})},[Object(a["f"])("div",{class:"history-bar",style:Object(a["j"])({height:e.amount/o.netWorth.max*100+"%"})},null,4),Object(a["f"])("div",D,[Object(a["g"])(" Date: "+Object(a["p"])(e.date)+" ",1),w,Object(a["g"])(" Amount: "+Object(a["p"])(e.amount),1)])],4)})),128))])])])}var C=n("1da1"),k=(n("96cf"),n("bc3a")),x=n.n(k),_={created:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.update();case 1:case"end":return e.stop()}}),e)})))()},data:function(){return{chartdata:{labels:["January","February"],datasets:[{label:"Data One",backgroundColor:"#f87979",data:[40,20]}]},options:{responsive:!0,maintainAspectRatio:!1},startDate:null,endDate:null,netWorth:{BTC:{amount:0},ETH:{amount:0},CAD:{amount:0},total:0,max:0,history:[]}}},methods:{update:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.netWorth={BTC:{amount:0},ETH:{amount:0},CAD:{amount:0},total:0,max:0,history:[]},e.next=3,t.loadTransactions();case 3:n=e.sent,t.calculate(n,t.$config.rates),console.log("Networth",t.netWorth);case 6:case"end":return e.stop()}}),e)})))()},loadTransactions:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(t.$config.transactionHistoryEP);case 2:return n=e.sent,console.log("Transactions",n.data,n),e.abrupt("return",n.data.reverse());case 5:case"end":return e.stop()}}),e)})))()},calculate:function(t,e){console.log("start date",this.startDate),console.log("end date",this.endDate);var n=this.netWorth;console.log("Start NetWorth",n);for(var a=0;a<t.length;a++){var r=t[a];if(!(this.startDate&&new Date(this.startDate)>Date.parse(r.createdAt))){if(this.endDate&&new Date(this.endDate)<Date.parse(r.createdAt))break;this.calculateTranasction(r,n),n.total=n.BTC.amount*e["BTC_CAD"]+n.ETH.amount*e["ETH_CAD"]+n.CAD.amount,n.total>n.max&&(n.max=n.total),n.history.push({id:a,amount:n.total,date:r.createdAt})}}this.transactionCount=n.history.length},calculateTranasction:function(t,e){"debit"==t.direction?e[t.currency].amount=e[t.currency].amount-t.amount:"credit"==t.direction?e[t.currency].amount=e[t.currency].amount+t.amount:"conversion"==t.type?(e[t.from.currency].amount-=t.from.amount,e[t.to.currency].amount+=t.to.amount):console.error("Unhandled transaction type for transaction",t)},reset:function(){this.response=null}}},A=(n("34c0"),n("6b0d")),S=n.n(A);const E=S()(_,[["render",T],["__scopeId","data-v-ca270d3e"]]);var H=E,U={class:"navbar navbar-expand-lg navbar-dark bg-dark"},P={class:"container"},W=Object(a["f"])("a",{class:"navbar-brand",href:"/"},"Networth Calculator",-1),B=Object(a["f"])("button",{class:"navbar-toggler",type:"button","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Template Project"},[Object(a["f"])("span",{class:"navbar-toggler-icon"})],-1),R={class:"collapse navbar-collapse",id:"navbarText"},N={class:"navbar-nav me-auto mb-2 mb-lg-0"},M={class:"nav-item"};function J(t,e,n,r,o,c){return Object(a["k"])(),Object(a["e"])("nav",U,[Object(a["f"])("div",P,[W,B,Object(a["f"])("div",R,[Object(a["f"])("ul",N,[Object(a["f"])("li",M,[Object(a["f"])("a",{class:Object(a["i"])(["nav-link",{active:"/"==o.route||!o.route}]),"aria-current":"page",href:"/"},"Home",2)])])])])])}var V={data:function(){return{route:window.location.pathname}},methods:{}};const $=S()(V,[["render",J]]);var q=$,Y={class:"mt-5"},F=Object(a["f"])("h1",null,"Submit",-1),I={class:"response"};function z(t,e,n,r,o,c){return Object(a["k"])(),Object(a["e"])("div",Y,[F,Object(a["f"])("button",{onClick:e[0]||(e[0]=function(){return c.submit&&c.submit.apply(c,arguments)})},"submit"),Object(a["f"])("div",I,Object(a["p"])(o.response),1)])}var G={data:function(){return{response:null}},methods:{submit:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(t.$config.apiUrl,"/submit?name=tester"),{card_cvc:"123",account_number:"234522134",ssn:"1234",card_number:"16661"});case 2:n=e.sent,t.response=n.data;case 4:case"end":return e.stop()}}),e)})))()}}};const K=S()(G,[["render",z]]);var L=K,Q={name:"App",components:{Home:H,Navbar:q,Submit:L},data:function(){return{route:window.location.pathname}}};const X=S()(Q,[["render",o]]);var Z=X,tt=n("db90"),et=Object(a["b"])(Z);et.config.globalProperties.$config=tt,et.mount("#app")},db90:function(t){t.exports=JSON.parse('{"apiUrl":"http://127.0.0.1:5000","transactionHistoryEP":"https://shakepay.github.io/programming-exercise/web/transaction_history.json","rates":{"CAD_BTC":0.00002078,"BTC_CAD":48109.6,"CAD_ETH":0.000304729501222115,"ETH_CAD":3281.59,"USD_BTC":0.00002654,"BTC_USD":37668.91,"USD_ETH":0.000389191377075849,"ETH_USD":2569.43,"BTC_ETH":14.660606949127693,"ETH_BTC":0.06821,"CAD_USD":0.78,"USD_CAD":1.27}}')}});
//# sourceMappingURL=app.73a05d1f.js.map